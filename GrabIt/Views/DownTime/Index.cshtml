@model IEnumerable<GrabIt.Models.DOWNTIMEVIEW>
@{
    ViewBag.Title = "Downtime";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Downtime</h2>

<script type="text/javascript">
    $(document).ready(function () {
        $('#TblDownTime').dataTable({
            "order": [0, 'desc']
        });
    });
</script>
<br />
<table id="TblDownTime" class="table table-striped table-bordered" cellspacing="0" width="100%" style="font-size: 11px;">
    <thead>
        <tr>

            <th style="width:90px;"> Downtime Date</th>
            <th> @Html.DisplayNameFor(model => model.StartTime)</th>
            <th> @Html.DisplayNameFor(model => model.EndTime)</th>
            <th> @Html.DisplayNameFor(model => model.Area)</th>
            <th> @Html.DisplayNameFor(model => model.AffectedArea)</th>
            <th> @Html.DisplayNameFor(model => model.Reason)</th>
            <th> @Html.DisplayNameFor(model => model.EquipmentTag)</th>
            <th> @Html.DisplayNameFor(model => model.ResponsiblePerson)</th>
            <th> @Html.DisplayNameFor(model => model.Notes)</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            string date = item.Date.ToString("yyyy-MM-dd");
            string start = item.StartTime.ToString("HH:mm");
            string End = item.EndTime.ToString("HH:mm");
            string DowntimeID = item.DownTimeID.ToString();
            
            <tr>
              @* getProcessByProcessID(@Html.DisplayFor(modelItem => item.DownTimeID));*@
                <td> @date<span onclick="getDowntimeByID(@DowntimeID)" class="glyphicon glyphicon-pencil" style="color:limegreen; padding-left:20px; cursor: pointer;" title="Edit" ></span></td>
                <td> @start</td>
                <td> @End</td>
                <td> @Html.DisplayFor(modelItem => item.Area)</td>
                <td> @Html.DisplayFor(modelItem => item.AffectedArea)</td>
                <td> @Html.DisplayFor(modelItem => item.Reason)</td>
                <td> @Html.DisplayFor(modelItem => item.EquipmentTag)</td>
                <td> @Html.DisplayFor(modelItem => item.ResponsiblePerson)</td>
                <td> @Html.DisplayFor(modelItem => item.Notes)</td>
            
            </tr>
        }
    </tbody>
</table>

<div class="horizontalRule"></div>

 @{Html.RenderAction("DownTimeAdd", "DownTime");}